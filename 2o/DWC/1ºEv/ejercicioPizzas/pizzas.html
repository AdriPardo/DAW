<html>
  <head>
    <style>
      .imagencss {
        position: absolute;
        top: 150px;
        left: 400px;
      }
    </style>
  </head>

  <body>
    <br />
    <select id="lista"></select>

    <div id="fotopizza"></div>
    <h3>Ingredientes:</h3>
    <div id="ingredientes"></div>
    <h2 id="importe">Importe :</h2>
  </body>
  <script>
    "use strict";
    let pizzas = [
      {
        codigo: "P0",
        nombre: "--- Selecciona una Pizza ---",
        ingredientes: [],
      },
      {
        codigo: "P1",
        nombre: "Prosciutto",
        ingredientes: [
          { ingrediente: "salsa de tomate", precio: "0.5" },
          { ingrediente: "mozzarella", precio: "0.5" },
          { ingrediente: "jamón york", precio: "0.75" },
        ],
      },
      {
        codigo: "P2",
        nombre: "Capricciosa",
        ingredientes: [
          { ingrediente: "salsa de tomate", precio: "0.5" },
          { ingrediente: "mozzarella", precio: "0.5" },
          { ingrediente: "jamón york", precio: "0.75" },
          { ingrediente: "alcachofas", precio: "1" },
          { ingrediente: "champiñones", precio: "0.5" },
          { ingrediente: "olivas negras", precio: "0.25" },
        ],
      },
      {
        codigo: "P3",
        nombre: "Cuatro Formaggi",
        ingredientes: [
          { ingrediente: "salsa de tomate", precio: "0.5" },
          { ingrediente: "mozzarella", precio: "0.5" },
          { ingrediente: "gorgonzola", precio: "1.25" },
          { ingrediente: "emmemtal", precio: "1" },
          { ingrediente: "brie", precio: "0.75" },
        ],
      },
    ];

    window.onload = function () {
      document.getElementById("importe").textContent = "Importe: 0";
      let select = document.getElementById("lista");
      select.addEventListener("change", cambiarPizza);
      pizzas.forEach((n) => {
        let opcionNueva = document.createElement("option");
        opcionNueva.value = n.codigo;
        opcionNueva.text = n.nombre;
        select.appendChild(opcionNueva);
      });
    };

    function cambiarPizza() {
      let select = document.getElementById("lista");
      let codigo = select.value;
      añadirFoto(codigo);
      añadirIngredientes(codigo);
    }
    function añadirIngredientes(codigo) {
      let pizza=pizzas.find(n=>n.codigo==codigo);
      let arrayIngredientes = pizza.ingredientes;
      ;
     
      console.log(arrayIngredientes.ingrediente);


    }
    function añadirFoto(codigo) {
     
        let divFoto = document.getElementById("fotopizza");
        if (document.contains(divFoto.firstElementChild)) {
          divFoto.removeChild(divFoto.firstElementChild);
        }
        if (!document.contains(divFoto.firstElementChild) && codigo != "P0") {
          let imagen = document.createElement("img");
          imagen.src = "./" + codigo + ".jpg";
          imagen.className = "imagencss";
          divFoto.appendChild(imagen);
        }
      
    }

  </script>
</html>
